"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6160],{2701:t=>{t.exports=JSON.parse('{"permalink":"/docs/blog/2020/11/08/validating-asp.net-application-configuration-at-startup","editUrl":"https://github.com/MarkZither/mywyamblog/tree/main/docs/blog/2020-11-08-validating-asp.net-application-configuration-at-startup.md","source":"@site/blog/2020-11-08-validating-asp.net-application-configuration-at-startup.md","title":"Validation asp.net Configuration at Startup","description":"Using the Options pattern in ASP.NET Core] allows you to benefit from [Options validation], but this only fires the first time the configuration is accessed.  The Options Pattern is build on top of Configure and OptionsBuilder.Bind(IConfiguration config) will actually call Configure(IConfiguration config) directly, so they are also equivalent. Both methods do the same job but AddOptions came later and allows more customizations.  It would be much better to prevent a service starting if there are configuration values missing or with invalid values. Such functionality is not provided by the framework as of .net5.0, the GitHub issue [Options Validation","date":"2020-11-08T00:00:00.000Z","tags":[{"inline":false,"label":"ASP.NET Core","permalink":"/docs/blog/tags/aspnet-core","description":"Microsoft ASP.NET Core framework"},{"inline":false,"label":"Configuration Options Pattern","permalink":"/docs/blog/tags/configuration-options-pattern","description":"ASP.NET Core configuration patterns"}],"readingTime":0.91,"hasTruncateMarker":false,"authors":[{"name":"Mark Burton","title":"Software Engineer & Technical Writer","url":"https://github.com/MarkZither","imageURL":"https://github.com/MarkZither.png","key":"mark-burton","page":null}],"frontMatter":{"title":"Validation asp.net Configuration at Startup","authors":["mark-burton"],"tags":["ASP.NET Core","Configuration Options Pattern"],"date":"2020-11-08"},"unlisted":false,"prevItem":{"title":"First Look at Project Tye","permalink":"/docs/blog/2021/02/07/first-look-at-project-tye"},"nextItem":{"title":"Signing Documents With a LuxTrust Signing Stick","permalink":"/docs/blog/2020/10/04/Signing-Documents-With-LuxTrust-Signing-Stick"}}')},28453:(t,o,i)=>{i.d(o,{R:()=>s,x:()=>r});var e=i(96540);const n={},a=e.createContext(n);function s(t){const o=e.useContext(a);return e.useMemo(function(){return"function"==typeof t?t(o):{...o,...t}},[o,t])}function r(t){let o;return o=t.disableParentContext?"function"==typeof t.components?t.components(n):t.components||n:s(t.components),e.createElement(a.Provider,{value:o},t.children)}},54552:(t,o,i)=>{i.r(o),i.d(o,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>e,toc:()=>u});var e=i(2701),n=i(74848),a=i(28453);const s={title:"Validation asp.net Configuration at Startup",authors:["mark-burton"],tags:["ASP.NET Core","Configuration Options Pattern"],date:"2020-11-08"},r=void 0,l={authorsImageUrls:[void 0]},u=[];function c(t){const o={a:"a",code:"code",p:"p",...(0,a.R)(),...t.components};return(0,n.jsxs)(o.p,{children:["Using the [Options pattern in ASP.NET Core] allows you to benefit from [Options validation], but this only fires the first time the configuration is accessed.  The ",(0,n.jsx)(o.code,{children:"Options Pattern"})," is build on top of ",(0,n.jsx)(o.code,{children:"Configure"})," and OptionsBuilder.Bind(IConfiguration config) will actually call Configure(IConfiguration config) directly, so they are also equivalent. Both methods do the same job but AddOptions came later and allows more customizations.  It would be much better to prevent a service starting if there are configuration values missing or with invalid values. Such functionality is not provided by the framework as of .net5.0, the GitHub issue [Options Validation: support eager validation] remains open.  The following method of ",(0,n.jsx)(o.code,{children:"Options Validation"})," is taken from [Baget] with small modifications to allow sharing the implementation with multiple services.  You can get the full working demo from ",(0,n.jsx)(o.a,{href:"https:/github.comMarkZitherSwaggerAndHealthCheckBlog",children:"my GitHub repo"}),".  [Options pattern in ASP.NET Core]:\nhttps:/docs.microsoft.comen-usaspnetcorefundamentalsconfigurationoptions?view=aspnetcore-3.1#options-validation\n[Options validation]: https:/docs.microsoft.comen-usaspnetcorefundamentalsconfigurationoptions?view=aspnetcore-3.1#options-validation\n[Options Validation: support eager validation]: https:/github.comdotnetruntimeissues36391\n[Baget]: https:/github.comloic-sharmaBaGet\n[ConfigureOptions doesn't register validations as expected]: https:/github.comdotnetruntimeissues38491"]})}function p(t={}){const{wrapper:o}={...(0,a.R)(),...t.components};return o?(0,n.jsx)(o,{...t,children:(0,n.jsx)(c,{...t})}):c(t)}}}]);